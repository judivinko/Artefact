/* =========================================================
   ARTEFACT — COMPLETE CSS
   (pozadina, header, komponente, tabs, shop, crafting, inventory, bonus, responsive)
   ========================================================= */

/* ------------------------------
   Root vars
------------------------------ */
:root{
  --line:#233047;
  --text:#e5e7eb;
  --cell:1.5cm;     /* univerzalni slot za ikonice */
  --landing:4cm;    /* veće slike (landing/HOW) */
  --vh-offset:160px;/* JS precizira visinu (header+tabbar) */
  --inv-offset:160px;
}

/* ------------------------------
   Global background (nije jednobojna)
------------------------------ */
html,body{ height:100% }
body{
  margin:0; color:var(--text);
  background:
    radial-gradient(1200px 600px at 10% 10%, rgba(124,58,237,0.16), transparent 60%),
    radial-gradient(900px 500px at 80% 20%, rgba(34,211,238,0.18), transparent 65%),
    radial-gradient(900px 600px at 70% 85%, rgba(234,88,12,0.12), transparent 60%),
    linear-gradient(160deg, #0b1220 0%, #0e1b2e 45%, #0a0f1f 100%);
}
body::before{
  content:""; position:fixed; inset:0; pointer-events:none; z-index:-1; opacity:.6;
  background:
    radial-gradient(ellipse at 30% 30%, rgba(255,255,255,0.04), transparent 40%),
    radial-gradient(ellipse at 70% 70%, rgba(255,255,255,0.035), transparent 45%);
  -webkit-mask-image: radial-gradient(circle at 50% 50%, black 55%, transparent 75%);
          mask-image: radial-gradient(circle at 50% 50%, black 55%, transparent 75%);
}

/* ------------------------------
   Utilities / text / layout
------------------------------ */
.hidden{display:none}
.muted{opacity:.8}
.label{font-weight:600}
.brand{font-weight:700}
.container{max-width:980px;margin:0 auto;padding:12px}
.row{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.right{margin-left:auto}

/* ------------------------------
   Header (glass + sticky)
------------------------------ */
.header{
  display:flex; align-items:center; justify-content:space-between;
  padding:12px; border-bottom:1px solid #233047;
  position:sticky; top:0; z-index:20;
  background:rgba(11,18,32,.6); backdrop-filter: blur(8px);
}
.header.no-border{ border-bottom:0!important }

/* ------------------------------
   Core components
------------------------------ */
.badge{
  border:1px solid var(--line); padding:4px 8px;
  border-radius:999px; background:#071021; font-size:12px
}
.btn{
  cursor:pointer; border:1px solid rgba(255,255,255,0.08);
  background:#0f1b2c; padding:8px 12px; border-radius:10px; color:var(--text)
}
.btn.muted{opacity:.9}
.btn.secondary{background:#0d2a3a}
.btn.danger{background:#3a0d14}
.input{
  background:#0b1220;border:1px solid #233047;border-radius:8px;
  padding:8px 10px;color:#e5e7eb
}
.card{
  background:#0b1220cc;border:1px solid #233047;border-radius:12px;
  padding:12px;margin-top:12px; backdrop-filter: blur(4px)
}
.toast{
  position:fixed;bottom:16px;right:16px;background:#0d1b2a;
  border:1px solid #233047;border-radius:8px;padding:10px 12px; z-index:50
}

/* Lists & rows */
.itemrow{
  display:flex;align-items:center;justify-content:space-between;
  padding:8px 10px;border-bottom:1px solid #13223a
}
.itemrow:last-child{border-bottom:0}
.list{
  max-height:360px;overflow:auto;border:1px solid var(--line);border-radius:10px
}

/* Tiles */
.tile{display:flex;gap:6px;align-items:center;border:1px solid var(--line);border-radius:10px;padding:6px}
.tile.ok{border-color:#165c32;background:#0e3a2f}
.tile.miss{opacity:.85}

/* Grid presets */
.grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
.grid-4{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:10px}
.grid-5{display:grid;grid-template-columns:repeat(5,minmax(0,1fr));gap:6px}

/* Images / slots */
img.icon{width:28px;height:28px;object-fit:contain;border-radius:6px;display:block}
.img-cell{
  width: var(--cell); height: var(--cell);
  object-fit: contain; border-radius: 6px; display: block;
}
.img-landing{
  width: var(--landing); height: var(--landing);
  object-fit: contain; border-radius: 10px; display: block; margin-top: 8px;
}

/* Landing text sizes */
#about p, #how p, #tips li { font-size:16px; line-height:1.6 }
#how .label, #tips .label { font-size:20px }
img{ max-width:512px; max-height:512px; width:auto; height:auto }
.item-img{ display:block; width:100%; max-width:512px; max-height:512px; object-fit:contain; border-radius:10px; margin-top:8px }
.img-slot{ margin-top:10px; width:100%; min-height:96px; border:1px dashed #233047; border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:12px; opacity:.85 }
.img-slot:hover{ opacity:1 }

/* PayPal tweaks */
#balance { font-size:14px; padding:6px 10px; font-weight:700; letter-spacing:.2px }
#btn-open-paypal.hidden{ display:none; }
#paypal-panel.hidden{ display:none; }
#paypal-button-container{ transform:scale(.95); transform-origin:left center; }
@media (max-width:520px){ #paypal-button-container{ transform:scale(.9); } }
#paypal-wrap{ display:none !important; }

/* ------------------------------
   Tabs (pill style + sticky bar)
------------------------------ */
.tabbar{
  position: sticky; top: 56px; z-index: 9;
  display: flex; gap: 8px; align-items: center;
  padding: 8px 10px; margin: 8px 0 10px;
  border: 1px solid rgba(255,255,255,0.06);
  background: rgba(11,18,32,0.5);
  backdrop-filter: blur(8px);
  border-radius: 12px;
  overflow-x: auto; overflow-y: hidden;
}
.tabbar::before{
  content:""; position:absolute; inset:0; border-radius:12px; pointer-events:none;
  box-shadow: inset 0 1px 0 rgba(255,255,255,0.04);
}
.chip{
  position: relative;
  padding: 8px 14px;
  border-radius: 999px;
  border: 1px solid rgba(255,255,255,0.08);
  background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.03));
  color: #e5e7eb; font-weight: 600; letter-spacing: .2px;
  transition: transform .15s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
  user-select: none; white-space: nowrap; cursor:pointer;
}
.chip:hover{
  transform: translateY(-1px);
  border-color: rgba(163, 230, 255, .35);
  box-shadow: 0 2px 10px rgba(34,211,238,.12), inset 0 0 0 1px rgba(255,255,255,0.04);
}
.chip.active{
  background:
    radial-gradient(120% 160% at 50% 0%, rgba(34,211,238,.20), rgba(124,58,237,.12) 45%, transparent 70%),
    linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.05));
  border-color: rgba(34,211,238,.45);
  box-shadow: 0 4px 18px rgba(34,211,238,.18), inset 0 0 0 1px rgba(255,255,255,0.05);
}
.chip.active::after{
  content:""; position:absolute; left:18px; right:18px; bottom:-6px; height:3px;
  border-radius:3px;
  background: linear-gradient(90deg, rgba(34,211,238,.9), rgba(124,58,237,.9));
  filter: drop-shadow(0 0 6px rgba(34,211,238,.35));
}
@media (min-width: 900px){ .chip{ font-size:15px } }

/* ------------------------------
   SHOP
------------------------------ */
/* Buy blok ~10cm, ne do kraja */
#tab-shop .buy-block{ width:10cm; max-width:100% }
@media (max-width:600px){ #tab-shop .buy-block{ width:100% } }

/* ------------------------------
   CRAFTING — full-bleed + full-height
------------------------------ */
/* širina preko cijelog viewporta (ako koristiš grid.fullbleed) */
#tab-craft.fullwide{ padding-left:0; padding-right:0 }
#tab-craft .grid.fullbleed{
  width:100vw; position:relative; left:50%; transform:translateX(-50%);
  padding-left:12px; padding-right:12px;
}
#tab-craft .grid.fullbleed > .card{ border-radius:0 }

/* visina do dna ekrana; liste skrolaju unutra */
#tab-craft{
  min-height: calc(100vh - var(--vh-offset));
  display:flex; flex-direction:column;
}
#tab-craft .grid{ flex:1; min-height:0 }
#tab-craft .grid > .card{ display:flex; flex-direction:column; min-height:0 }
#recipes.list, #rec-details.list{ flex:1; min-height:0; max-height:none }

/* ------------------------------
   INVENTORY — split + veći brojevi + full-height
------------------------------ */
.inv-grid{
  display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-top:8px;
  height: calc(100vh - var(--inv-offset));
}
.inv-pane{ display:flex; flex-direction:column; min-height:0 }
.inv-pane .list{ flex:1; min-height:0; max-height:none }
.bigcount{ font-size:16px; font-weight:700; letter-spacing:.2px }
.itemrow .muted, .itemrow .qty{ font-size:16px; font-weight:600 }

/* ------------------------------
   BONUS — (već full-height kroz layout sekcije aplikacije po potrebi)
------------------------------ */
/* Bonus liste mogu koristiti isti list layout; ako treba full-height wrapper, reusaj varijantu kao u Crafting/Inventory */

/* ------------------------------
   Responsive
------------------------------ */
@media (max-width:900px){
  .grid{grid-template-columns:1fr}
  .grid-4{grid-template-columns:repeat(2,1fr)}
  .grid-5{grid-template-columns:repeat(3,1fr)}
  .inv-grid{ grid-template-columns:1fr }
  #tab-craft .grid.fullbleed{ padding-left:8px; padding-right:8px }
}
